<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="vsimage.css">
  
        <script defer src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"></script>
        <script src="instructs.js"></script>
</head>

<body>
    <div class="hideprint">
<div id="contentContainer"><h1>MXN - SP / Mexico</h1></div>
<script src="instructs.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Create a new div element
        var contentContainer = document.getElementById('contentContainer');
        var jumpContainer = document.getElementById('jumpContainer');
      //  contentContainer.innerHTML += instructs;

        jumpContainer.innerHTML += jumps;
document.getElementById('jumpDropdown').addEventListener('change', function() {
    // Get the selected value
    var selectedValue = this.value;
    
    // Redirect to the selected page
    window.location.href = selectedValue;
});
   

    });
</script>


        <textarea id="inputId" rows="15" cols="130">
https://www.victoriassecret.com/images/vsweb/33508d44-7c0e-485b-aa13-32b424b7c92a/050923-INTL-Sports-Bras-mob-FC1-Light.jpg
        </textarea>
        <br>
        <button type="button" onclick="getInputValue(); writeBody();">Load The Images!</button>
           </div>

<div id="jumpContainer"></div>


    <div id="thepage"></div>
    <div id="bottomDropdown"></div>
    <a href="#" rel="previous" onclick="writeBody();NiceScroll();">Back to Top</a>

    <script>
        var allhtml = "<div id=\"paginatediv\" class=\"paginationstyle\"></div>";
        var nicename;
        var currentLanguageIndex = 0; // Track the current language index
        var dropdown; // Declare dropdown as a global variable
        var droparray = []; // Declare droparray as a global variable
        var cname = [
           

            'sp.victoriassecret.com',
            '146.20.232.165',
            '146.20.232.166',
            '146.20.232.164',
           
        ];

  
        function loadImage(url, containerId) {
            var img = new Image();
            img.src = url;
            img.className = 'lazy-image';
            img.loading = 'lazy';

            img.onload = function () {
                img.classList.add('loaded');
            };

            document.getElementById(containerId).appendChild(img);
        }


        function getInputValue() {
            dropdown = "<select class='hideprint' onchange='changeLanguage(this.value)'><option value=''>Jump to Language</option>";
            droparray = [];
            allhtml = "";

            let input = document.getElementById("inputId").value;
            let links = input.split(/\s*,\s*|\s+|\n/).filter(link => link.trim() !== "");

            for (var z = 0; z < cname.length; z = z + 4) {
                transurl = cname[z];
                nicename = cname[z];

                dropdown += "<option value='" + (z / 4) + "'>" + nicename + "</option>";
                allhtml += "<div class='newlanguage' style='display: none;'><span id='" + nicename + "'></span>";
                allhtml += "<h2><span class='title'>" + nicename + " <span class='firstentry'>" + transurl + "</span></span></h2><br clear='all'>";

                for (var i = 0; i < links.length; i++) {
                    title = links[i];
                    titleES = title.replace('www.victoriassecret.com', transurl);
                    titleBold = title.replace('www.victoriassecret.com', '<span class=boldcolor>' + transurl + '</span>');
                    allhtml += "<div class='leftside'><br/> <img data-src='" + titleES + "' class='lazyload'><br><span class='origin'>" + titleBold + " </span></div>";
                }

                var subdom = transurl.match(/^(.+)\.victoriassecret\.com$/);
                var subdom = (subdom && subdom.length > 1) ? subdom[1] : null;
                for (var i = 1; i <= 3 && (z + i) < cname.length; i++) {
                    ipIndex = z + i;
                    ip = cname[ipIndex];

                    allhtml += "<hr class='separator'><div class='newip'><span class='origin'> IP #" + i + "<br/> <span class=boldcolor>" + subdom + "</span>" + ip + "</span></div>";

                    for (var j = 0; j < links.length; j++) {
                        title = links[j];
                        titleES = title.replace('www.victoriassecret.com', ip);
                        titleBold = title.replace('www.victoriassecret.com', '<span class=boldcolor>' + ip + '</span>');
                        allhtml += "<div class='leftside'><img data-src='" + titleES + "' class='lazyload'><br><span class='origin'><i style='font-weight:bold;font-size:1.5em;'> " + subdom + "  </i>  -  " + titleBold + " </span></div>";
                    }
                }

                allhtml += "<br style='break-after:page'></div>";
                droparray.push(nicename);
            }

            dropdown += '</select>';
        }

        function lazyLoadImages() {
    // Use lazysizes to handle lazy loading
    lazySizes.init();
}

            function writeBody() {
            thepage.innerHTML = ""; // clear page
            thepage.innerHTML += allhtml;

            insert = droparray[currentLanguageIndex];
            document.getElementById(insert).innerHTML = dropdown;
            document.getElementsByClassName('newlanguage')[currentLanguageIndex].style.display = 'block';

            // Populate the bottom dropdown
            document.getElementById('bottomDropdown').innerHTML = dropdown;

            // Load images for the selected language
            var selectedLanguage = droparray[currentLanguageIndex];
            var images = document.querySelectorAll("#" + selectedLanguage + " img");
            images.forEach(function (img) {
                loadImage(img.src, "thepage");
            });
        }

        function changeLanguage(index) {
            currentLanguageIndex = index;
            writeBody();
            // Scroll to the top
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
</body>

</html>
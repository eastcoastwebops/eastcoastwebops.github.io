<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN"
"http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
<title>The Official Holbrook Sort Of Natural Language Bedtime Rhyming Story Generator</title>

<link href='https://fonts.googleapis.com/css?family=Josefin+Sans' rel='stylesheet' type='text/css'>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
</head>

<body onLoad="window.scrollTo(0,0);">
	<div class="story">
<h1 id="title"></h1>
<script type="text/javascript">

//check path to use for images... either dropbox, or local folder
//var newURL = window.location.protocol + "//" + window.location.host + "/" + window.location.pathname;
var URL = window.location.protocol;
var imageurl='';
var verses=3;
var chorus=2;
var stickname;
var firstsentence;
var firstline;
var secondline;
var thirdline;
var fourthline;
var x=0;

//chorus=prompt("number of overall parts to the story (default 2, max 5)","");
if ((chorus <1) || (chorus > 5)) {
 chorus=2;
 } 

//verses=prompt("number of sub-parts witin each part - (default 2, max 5)","");
if ((verses <1) || (verses > 5)) {
 verses=2;
 }
 
 //names
 //var name1 = prompt("Provide 2 names
 
function randomNoRepeats(array) {
  var copy = array.slice(0);
  return function() {
    if (copy.length < 1) { copy = array.slice(0); }
    var index = Math.floor(Math.random() * copy.length);
    var item = copy[index];
    copy.splice(index, 1);
    return item;
  };
}

while (x < chorus ) // loop twice through 2 sets of rhyme and chorus
{  // this is the main loop

var genders = ['he','she']; // pick a he or she
var gender= genders[Math.floor(Math.random()*genders.length)];
switch (gender) 
	{
		case "he":
		var fnames = ['Matt','Dan','Robert','Bob','Brian','Greg','Eric','Nicholas','Nick','Jack','Aiden', 'Jackson', 'Ethan', 'Liam', 'Mason','Freddy','Jason'];
		break;

		case "she":
		var fnames = ['Stephanie','Kathy','Rhonda','Aileen','Debby','Kim','Jackie','Sandy','Sarah','Mary','Sally','Marci'];
		break;
	}

var fname = new Array();
fname[0] = fnames[Math.floor(Math.random()*fnames.length)];	


// STEP #1 ---- these are the possible random rhyme words, all nouns
var ats = randomNoRepeats ( ['bat','brat','cat','flat','gnat','hat','mat','knat','pat','rat','scat','slat','spat','splat','sprat','stat','tat','vat','merkat']);
var eds = randomNoRepeats ( ['bed','shed','head','shred','tread','sled','undead','bread','co-ed','age-ed']);
var egs = randomNoRepeats ( [ 'leg','peg','keg','chicken leg','powder keg','egg','clothes peg','hind leg','nutmeg']);
var ets =randomNoRepeats (  ['bet','net','vet','pet','jet','cassette','corvette','brunette','roulette','vignette']);
var igs  = randomNoRepeats (  ['brig','fig','gig','jig','mig','pig','prig','rig','sprig','swig','tig','trig','twig','wig']);
var ists =randomNoRepeats ( ['list','mist','grist','dentist','fist','cyst','activist','artist']);
var its =randomNoRepeats (  ['pit','grit','mitt','pulpit','armpit','kit','hermit','tidbit','twit','dimwit']);
var ogs =randomNoRepeats (  ['frog','bog','smog','polywog','hog','log','fog','blog','hotdog']);

//types of rhyme word ending sound - MAKE SURE TO INCLUDE IN SWITCH (See below)
var types =  ['at','ed','eg','et','ig','ist','it','og'];

// RANDOM STORY ITEMS 
var first = randomNoRepeats([
'Now, ','Once, ','Oh, ','Here, ','','','\'twas said','Lucky','Silly','Wise Old','This','Yes','Some said']);

var things = ['ball', 'bat', 'bed', 'book', 'boy', 'bun', 'can', 'piece of cake', 'cap', 'car', 'cat', 'cow', 'cub', 'cup', 'dad', 'dog', 'doll', 'piece of dust', 'fan', 'pair of feet', 'girl', 'gun', 'hat', 'hen', 'jar', 'kite', 'man', 'map', 'group of men', 'pan', 'pet', 'pie', 'pig', 'pot', 'rat', 'sun', 'toe', 'tub', 'van', 'apple', 'arm', 'banana', 'bike', 'bird', 'book', 'chin', 'clam', 'clover', 'club', 'corn', 'crayon', 'crow', 'crown', 'crowd', 'crib', 'desk', 'dime', 'speck of dirt', 'dress', 'fang', 'field', 'flag', 'flower', 'fog', 'game', 'heat', 'hill', 'home', 'horn', 'hose', 'glass of juice', 'kite', 'lake', 'maid', 'mask', 'mouse', 'mint', 'meal', 'piece of meat', 'moon', 'nest', 'nose', 'slice of pear', 'pen', 'pencil', 'plant', 'river', 'road', 'rock', 'room', 'rose', 'seed', 'shape', 'shoe', 'shop', 'show', 'sink', 'snail', 'snake', 'snow', 'soda', 'sofa', 'star', 'step', 'stew', 'stove', 'straw', 'piece of string', 'swing', 'table', 'tank', 'team', 'tent', 'test', 'pair of toes', 'tree', 'vest', 'glass of water', 'wing', 'winter', 'woman'];

// various moods, actions, adj, and phrases to spice things up
var actionpast = randomNoRepeats(['stared','worked','ran','jerked','burped','sat','gazed','thought','jumped','waved','worried','sniffed','wrote','smelled']);
var action = randomNoRepeats(['stare at','work on','run at','jump on','burp with','sing to','gaze at','think of']);
var adj = randomNoRepeats(['little','big old','sweet old','sticky','grumpy','largish','worn out']);
var mood = randomNoRepeats(['liked','hated','tried','once tried','never tried','loved','adored','cherished']);
var upon = randomNoRepeats(['upon','over','under','below','above','beneath','beside','before']);
var but = randomNoRepeats(['but','yet','and','','','though']);
var as = randomNoRepeats(['as','while','a\'fore','whilst','after']);
var exclaim = randomNoRepeats(['!','.','.',';']);
var had = randomNoRepeats(['had','knew','saw','drew','sang of','read about','dreamed of']);

// loop through 4 times.
var i=0;
var f=0; //alternate float
var c=0;
while (i<verses)// prompt



{  // loop for EACH 4 stanzas
// create an alternating css class
		if (f > 1) {f=0;}
		if (f==0) {
		c='imga';
		} 
		else {
		c='imgb';
		}

		f++

// on each pass through, pick a random 'type' of rhyme word sound. so if we pick "at" pick two words that end in AT sound. 
var type = types[Math.floor(Math.random()*types.length)]; //determine how may types there are an pick random type.
// then, depening on the 'type' of sound, determine which word list to pick from, then pick two unique words from that list. 

// STEP #4 ---- GET RANDOM SAME SOUNDING WORDS FROM STEPS #1, #2, #3
switch (type) 
	{
		case "at":
		var wordmatch1 = ats();
		var wordmatch2 = ats();
		break;
	
		case "ed":
		var wordmatch1 = eds();
		var wordmatch2 = eds();
		break;

		case "eg":
		var wordmatch1 = egs();
		var wordmatch2 = egs();
		break;
		
		case "et":
		var wordmatch1 = ets();
		var wordmatch2 = ets();
		break;
		
		case "ig":
		var wordmatch1 = igs();
		var wordmatch2 = igs();
		break;
		
		case "ist":
		var wordmatch1 = ists();
		var wordmatch2 = ists();
		break;
		
		case "it":
		var wordmatch1 = its();
		var wordmatch2 = its();
		break;
		
		case "og":
		var wordmatch1 = ogs();
		var wordmatch2 = ogs();
		break;
	}

// clean up the white space in image name
var image = wordmatch1.replace(' ', "")
var image1=('<img src="images/'+image+'.jpg" class='+c+'>' );

var thing = new Array(); // find some random things to put in story
thing[0] = things[Math.floor(Math.random()*things.length)];
thing[1] = things[Math.floor(Math.random()*things.length)];


// store each four lines for chorus purposes
firstline=(fname[0]+' '+had()+' a '+adj()+ '  ' + thing[0] + '.');
secondline=(gender + ' ' +mood()+ ' to '+action()+'  ' + wordmatch1 + 's'+exclaim());
thirdline=(but()+ ' '+ gender+' '+actionpast()+' and '+actionpast()+' upon a ' + thing[1] + ',');
fourthline=(as()+ ' ' + gender + ' ' +actionpast()+' ' + upon()+' the  ' + wordmatch2 + 's'+exclaim());


if (i==0) {
stickname=fname[0];
//firstsentence=(first() + ' ' + fname[0]+' '+had()+' a '+adj()+ '  ' + thing[0] + '.<br>');
firstsentence = firstline;
secondsentence = secondline;
thirdsentence = thirdline;
fourthsentence = fourthline;

 if (x==0) {
 var writetitle=firstline;
          }
   else {}

}
else{}



//document.write (image1+first() + ' ' + firstline + ' <br/>'+ secondline + '<br/>' + thirdline + ' <br/>' + fourthline + '<br/><br/>');
document.write (first() + ' ' + firstline + ' <br/>'+ secondline + '<br/>' + thirdline + ' <br/>' + fourthline + '<br/><br/>');


i++;

}

document.write('<p style=\"text-align:center;font-weight:bold;\"><i>(chourus - everyone sing together now!)<br/>');

//choose random chorus  words

var chorusWords = randomNoRepeats(['Well','oh','Yeah','...aye','welp','oh yeah and','oh no now','woah','yo!','get down big','get up little']);

document.write(chorusWords() + ' ' +stickname+ ' ' +  chorusWords() + ' ' + firstsentence + ' <br/>');
document.write(chorusWords() + ', ' +stickname+ '. . .' +  chorusWords()+ ', <br/>' + secondsentence + ' <br/>');
document.write(fourthsentence + '</i></p><br/>');

x++

} // repeat whole thing... I hope



document.getElementById('title').innerHTML = writetitle; //to add text before.



</script>

	<div class="center">
	<input type="button" value="Create A New Story!" onClick="window.scrollTo(0,0);window.location.reload()">
	</div>
</div>
<div class="copy">All Source Code Â© Copyright 2016, Eric K. Holbrook, all rights reserved</div>
</body>

<style type="text/css">
body {width:auto;
background:#cccccc;
font-family: 'Josefin Sans', sans-serif;
text-transform:capitalize;
padding:0px;margin:0px;
margin:auto;
padding:10px;
}

.story{
width:65%;
border:solid 2px #777777;
margin-left:auto;margin-right:auto;
margin-top:0px;
padding:30px;
font-size:18px;
background:#ffffff;
font-size: 3vw;
}
.cap {text-transform:capitalize;}
.center{width:100%;border:solid 0px;text-align:center;}
input[type=button] {font-size:2.5vw;}
.imga, .imgb{width:150px;height:150px;float:right;
border:solid 0px;
margin-right:10px;
border-radius:10px;//box-shadow:0px 0px 5px #666666;}
.imgb{float:left;margin-right:10px;margin-left:0px;}
h1{font-size:7vw;text-align:center;padding-top:0px;margin-top:0px;}
.copy{text-align:center;}
</style>

</html>




